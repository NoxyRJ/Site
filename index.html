<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noxy7</title>

  <!-- SEO e Open Graph -->
  <meta name="description" content="Site oficial do Noxy7">
  <meta property="og:title" content="Noxy7">
  <meta property="og:description" content="Conheça meu espaço online, links, músicas e muito mais!">
  <meta property="og:image" content="media/avatar.gif">
  <meta property="og:type" content="website">

  <link rel="stylesheet" href="style.css">
  <style>
    /* Fundo */
    #bg-container {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      z-index: -1;
    }

    #bg-container video,
    #bg-container img {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
    }

    /* Overlay */
    .overlay {
      position: relative;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.4);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      padding: 20px;
    }

    /* Avatar neon */
    .avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 5px solid #00ffff;
      box-shadow: 0 0 20px #00ffff;
      margin-bottom: 20px;
      animation: pulseNeonBlack 2s infinite;
    }

    @keyframes pulseNeonBlack {
      0% { box-shadow: 0 0 5px #00ffff; }
      50% { box-shadow: 0 0 20px #00ffff; }
      100% { box-shadow: 0 0 5px #00ffff; }
    }

    /* Links */
    .links {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }

    .link-btn {
      background: rgba(0,0,0,0.6);
      border: 1px solid #00ffff;
      padding: 10px 20px;
      border-radius: 12px;
      color: white;
      text-decoration: none;
      transition: 0.3s;
    }

    .link-btn:hover {
      background: #00ffff;
      color: black;
      box-shadow: 0 0 10px #00ffff;
    }

    /* Música */
    #music-controls {
      margin-top: 20px;
    }

    #music-controls button {
      background: #00ffff;
      border: none;
      padding: 10px 15px;
      border-radius: 10px;
      cursor: pointer;
      margin-right: 10px;
    }

    #music-controls input {
      vertical-align: middle;
    }

    /* Contador */
    #visit-counter {
      margin-top: 15px;
      font-size: 14px;
      color: #aaa;
    }

    /* Spotify */
    #spotify-container {
      margin-top: 20px;
      background: rgba(0,0,0,0.6);
      padding: 10px;
      border-radius: 12px;
      color: white;
      max-width: 320px;
    }

    /* Fallback mobile */
    @media (max-width: 768px) {
      #bg-video { display: none; }
      #bg-image { display: block; }
    }
  </style>
</head>
<body>
  <!-- Fundo -->
  <div id="bg-container">
    <video autoplay muted loop id="bg-video">
      <source src="media/bg.mp4" type="video/mp4">
    </video>
    <img src="media/bg.jpg" id="bg-image" alt="Fundo alternativo">
  </div>

  <!-- Conteúdo -->
  <div class="overlay">
    <img src="media/avatar.gif" alt="Avatar Noxy7" class="avatar">
    <h1>Noxy7</h1>

    <!-- Links -->
    <div class="links">
      <a class="link-btn" href="https://discord.gg/seuservidor" target="_blank">Discord</a>
      <a class="link-btn" href="https://steamcommunity.com" target="_blank">Steam</a>
      <a class="link-btn" href="https://tiktok.com" target="_blank">TikTok</a>
      <a class="link-btn" href="https://spotify.com" target="_blank">Spotify</a>
    </div>

    <!-- Spotify -->
    <div id="spotify-container">
      <strong>🎵 Tocando agora:</strong>
      <div id="spotify-song">Carregando...</div>
    </div>

    <!-- Música de fundo -->
    <div id="music-controls">
      <button id="btnPlay">▶ Play Música</button>
      <input type="range" id="volumeControl" min="0" max="1" step="0.01">
    </div>
    <audio id="bg-music" src="media/music.mp3" loop></audio>

    <!-- Contador -->
    <div id="visit-counter">Visitantes: <span id="counter">0</span></div>
  </div>

  <script>
    // Música
    const btnPlay = document.getElementById("btnPlay");
    const bgMusic = document.getElementById("bg-music");
    const volumeControl = document.getElementById("volumeControl");

    btnPlay.addEventListener("click", () => {
      if (bgMusic.paused) {
        bgMusic.play();
        btnPlay.textContent = "⏸ Pause";
      } else {
        bgMusic.pause();
        btnPlay.textContent = "▶ Play Música";
      }
    });

    volumeControl.addEventListener("input", () => {
      bgMusic.volume = volumeControl.value;
    });

    // Contador de visitas
    async function updateCounter() {
      try {
        let res = await fetch("https://api.jsonbin.io/v3/b/SEU_BIN_ID/latest", {
          headers: { "X-Master-Key": "SUA_API_KEY" }
        });
        let data = await res.json();
        let count = data.record.visits || 0;
        count++;
        document.getElementById("counter").textContent = count;

        await fetch("https://api.jsonbin.io/v3/b/SEU_BIN_ID", {
          method: "PUT",
          headers: {
            "Content-Type": "application/json",
            "X-Master-Key": "SUA_API_KEY"
          },
          body: JSON.stringify({ visits: count })
        });
      } catch (err) {
        console.error("Erro contador:", err);
      }
    }
    updateCounter();

    // Spotify API (exemplo com link fixo)
    async function loadSpotifySong() {
      try {
        const trackUrl = "https://open.spotify.com/oembed?url=https://open.spotify.com/track/7lPN2DXiMsVn7XUKtOW1CS";
        let res = await fetch(trackUrl);
        let data = await res.json();

        document.getElementById("spotify-song").innerHTML = `
          <div>
            <img src="${data.thumbnail_url}" width="80" style="border-radius:10px;float:left;margin-right:10px;">
            <p><strong>${data.title}</strong></p>
            <p>${data.author_name}</p>
            <a href="${data.provider_url}" target="_blank">Abrir no Spotify</a>
          </div>
        `;
      } catch (err) {
        document.getElementById("spotify-song").textContent = "Erro ao carregar música.";
      }
    }
    loadSpotifySong();
  </script>
</body>
</html>
